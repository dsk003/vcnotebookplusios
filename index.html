<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notes App</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
</head>
<body>
    <!-- Authentication Screen -->
    <div class="auth-container" id="authContainer">
        <div class="auth-card">
            <div class="auth-header">
                <h1>üìù Notes App</h1>
                <p>Sign in to access your notes</p>
            </div>
            <div class="auth-content">
                <button id="googleSignInBtn" class="google-signin-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24">
                        <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                        <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                        <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                        <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                    </svg>
                    Sign in with Google
                </button>
                <div class="auth-footer">
                    <p>Your notes are securely stored and synced across devices</p>
                </div>
            </div>
        </div>
    </div>

    <div class="app-container" id="appContainer" style="display: none;">
        <!-- Premium Upgrade Header -->
        <div class="premium-header">
            <div class="premium-content">
                <div class="premium-text">
                    <span class="premium-icon">‚≠ê</span>
                    <span class="premium-message">Upgrade to Premium</span>
                    <span class="premium-description">Unlock unlimited notes, advanced features, and priority support</span>
                </div>
                <button class="premium-button" id="buyPremiumBtn">
                    <span class="premium-button-text">Buy Premium</span>
                    <span class="premium-button-icon">‚Üí</span>
                </button>
            </div>
        </div>
        
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="header-left">
                    <h1>Notes</h1>
                    <div class="user-info" id="userInfo">
                        <span class="user-name" id="userName"></span>
                    </div>
                </div>
                <div class="header-right">
                    <button id="newNoteBtn" class="new-note-btn" title="New Note">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M8 1V15M1 8H15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                    <button id="signOutBtn" class="sign-out-btn" title="Sign Out">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M6 14H3.333C2.979 14 2.64 13.86 2.39 13.61C2.14 13.36 2 13.021 2 12.667V3.333C2 2.979 2.14 2.64 2.39 2.39C2.64 2.14 2.979 2 3.333 2H6M10.667 11.333L14 8L10.667 4.667M14 8H6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="search-container">
                <div class="search-input-wrapper">
                    <svg class="search-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M7.333 12.667A5.333 5.333 0 1 0 7.333 2a5.333 5.333 0 0 0 0 10.667ZM14 14l-2.9-2.9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <input type="text" id="searchInput" placeholder="Search notes..." class="search-input">
                    <button id="clearSearchBtn" class="clear-search-btn" title="Clear search" style="display: none;">
                        <svg width="14" height="14" viewBox="0 0 16 16" fill="none">
                            <path d="M12 4L4 12M4 4L12 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="notes-list" id="notesList">
                <div class="no-notes">
                    <p>No notes yet</p>
                    <p class="subtitle">Create your first note</p>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <div class="note-editor" id="noteEditor">
                <div class="welcome-screen" id="welcomeScreen">
                    <div class="welcome-content">
                        <h2>Welcome to Notes</h2>
                        <p>Select a note from the sidebar or create a new one to get started.</p>
                    </div>
                </div>
                
                <div class="note-form" id="noteForm" style="display: none;">
                    <div class="note-form-header">
                        <input type="text" id="noteTitle" placeholder="Title" class="note-title-input">
                        <div class="note-actions">
                            <button id="uploadFileBtn" class="upload-btn" title="Upload File" style="display: none;">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                    <path d="M8 1V11M5.5 8.5L8 11L10.5 8.5M2 13H14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                            <button id="saveNoteBtn" class="save-btn" title="Save Note" style="display: none;">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                    <path d="M13.333 4L6 11.333L2.667 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                            <button id="deleteNoteBtn" class="delete-btn" title="Delete Note" style="display: none;">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                    <path d="M2 4H14M5.333 4V2.667C5.333 2.313 5.473 1.974 5.723 1.724C5.973 1.474 6.312 1.333 6.667 1.333H9.333C9.688 1.333 10.027 1.474 10.277 1.724C10.527 1.974 10.667 2.313 10.667 2.667V4M12.667 4V13.333C12.667 13.688 12.527 14.027 12.277 14.277C12.027 14.527 11.688 14.667 11.333 14.667H4.667C4.312 14.667 3.973 14.527 3.723 14.277C3.473 14.027 3.333 13.688 3.333 13.333V4H12.667Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M6.667 7.333V11.333M9.333 7.333V11.333" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <textarea id="noteContent" placeholder="Start writing..." class="note-content-textarea"></textarea>
                    
                    <!-- File Attachments Section -->
                    <div class="file-attachments" id="fileAttachments" style="display: none;">
                        <div class="attachments-header">
                            <h3>Attachments</h3>
                        </div>
                        <div class="attachments-list" id="attachmentsList">
                            <!-- Files will be displayed here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Hidden file input for uploads -->
    <input type="file" id="fileInput" style="display: none;" multiple accept="image/*,video/*,application/pdf,text/*,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document">

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="loading-spinner"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>
