"use strict";
// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.
Object.defineProperty(exports, "__esModule", { value: true });
exports.EventsDefaultPageNumberPagination = exports.UsageEvents = void 0;
const resource_1 = require("../resource.js");
const core_1 = require("../core.js");
const pagination_1 = require("../pagination.js");
class UsageEvents extends resource_1.APIResource {
    /**
     * Fetch detailed information about a single event using its unique event ID. This
     * endpoint is useful for:
     *
     * - Debugging specific event ingestion issues
     * - Retrieving event details for customer support
     * - Validating that events were processed correctly
     * - Getting the complete metadata for an event
     *
     * ## Event ID Format:
     *
     * The event ID should be the same value that was provided during event ingestion
     * via the `/events/ingest` endpoint. Event IDs are case-sensitive and must match
     * exactly.
     *
     * ## Response Details:
     *
     * The response includes all event data including:
     *
     * - Complete metadata key-value pairs
     * - Original timestamp (preserved from ingestion)
     * - Customer and business association
     * - Event name and processing information
     *
     * ## Example Usage:
     *
     * ```text
     * GET /events/api_call_12345
     * ```
     */
    retrieve(eventId, options) {
        return this._client.get(`/events/${eventId}`, options);
    }
    list(query = {}, options) {
        if ((0, core_1.isRequestOptions)(query)) {
            return this.list({}, query);
        }
        return this._client.getAPIList('/events', EventsDefaultPageNumberPagination, { query, ...options });
    }
    /**
     * This endpoint allows you to ingest custom events that can be used for:
     *
     * - Usage-based billing and metering
     * - Analytics and reporting
     * - Customer behavior tracking
     *
     * ## Important Notes:
     *
     * - **Duplicate Prevention**:
     *   - Duplicate `event_id` values within the same request are rejected (entire
     *     request fails)
     *   - Subsequent requests with existing `event_id` values are ignored (idempotent
     *     behavior)
     * - **Rate Limiting**: Maximum 1000 events per request
     * - **Time Validation**: Events with timestamps older than 1 hour or more than 5
     *   minutes in the future will be rejected
     * - **Metadata Limits**: Maximum 50 key-value pairs per event, keys max 100 chars,
     *   values max 500 chars
     *
     * ## Example Usage:
     *
     * ```json
     * {
     *   "events": [
     *     {
     *       "event_id": "api_call_12345",
     *       "customer_id": "cus_abc123",
     *       "event_name": "api_request",
     *       "timestamp": "2024-01-15T10:30:00Z",
     *       "metadata": {
     *         "endpoint": "/api/v1/users",
     *         "method": "GET",
     *         "tokens_used": "150"
     *       }
     *     }
     *   ]
     * }
     * ```
     */
    ingest(body, options) {
        return this._client.post('/events/ingest', { body, ...options });
    }
}
exports.UsageEvents = UsageEvents;
class EventsDefaultPageNumberPagination extends pagination_1.DefaultPageNumberPagination {
}
exports.EventsDefaultPageNumberPagination = EventsDefaultPageNumberPagination;
UsageEvents.EventsDefaultPageNumberPagination = EventsDefaultPageNumberPagination;
//# sourceMappingURL=usage-events.js.map